<div>
    <roster:DumpTarget @DumpPosted="go c.reloadMembers(event.Env)"></roster:DumpTarget>
    <div class="row">
        <h5 class="col col-10">Leaderboard</h5>
        <div class="col col-2">
            <div class="text-right">
                Hide inactive
                <input type="checkbox" .checked="c.hideInactive" @change="c.hideInactiveChanged(event)" />
            </div>
            <div class="text-right">
                Hide alts
                <input type="checkbox" .checked="c.hideAlts" @change="c.hideAltsChanged(event)" />
            </div>
        </div>
    </div>
    <table class="table">
        <thead class="thead-dark">
        <tr>
            <th scope="col" >
                <a href="#" @click="c.updateSort(event, sortByName)">
                    Name
                    <vg-template vg-if="c.sortOrder[0].index==sortByName">
                        <span vg-if="c.sortOrder[0].direction==sortAscending">&#x25BC;</span>
                        <span vg-if="c.sortOrder[0].direction==sortDescending">&#x25B2;</span>
                    </vg-template>
                </a>
            </th>
            <th scope="col" >
                <a href="#" @click="c.updateSort(event, sortByLevel)">
                    Level
                    <vg-template vg-if="c.sortOrder[0].index==sortByLevel">
                        <span vg-if="c.sortOrder[0].direction==sortAscending">&#x25BC;</span>
                        <span vg-if="c.sortOrder[0].direction==sortDescending">&#x25B2;</span>
                    </vg-template>
                </a>
            </th>
            <th scope="col" >
                <a href="#" @click="c.updateSort(event, sortByClass)">
                    Class
                    <vg-template vg-if="c.sortOrder[0].index==sortByClass">
                        <span vg-if="c.sortOrder[0].direction==sortAscending">&#x25BC;</span>
                        <span vg-if="c.sortOrder[0].direction==sortDescending">&#x25B2;</span>
                    </vg-template>
                </a>
            </th>
            <th scope="col" >
                <a href="#" @click="c.updateSort(event, sortByAlt)">
                    Alt?
                    <vg-template vg-if="c.sortOrder[0].index==sortByAlt">
                        <span vg-if="c.sortOrder[0].direction==sortAscending">&#x25BC;</span>
                        <span vg-if="c.sortOrder[0].direction==sortDescending">&#x25B2;</span>
                    </vg-template>
                </a>
            </th>
            <th scope="col" >
                <a href="#" @click="c.updateSort(event, sortByActive)">
                    Last active
                    <vg-template vg-if="c.sortOrder[0].index==sortByActive">
                        <span vg-if="c.sortOrder[0].direction==sortAscending">&#x25BC;</span>
                        <span vg-if="c.sortOrder[0].direction==sortDescending">&#x25B2;</span>
                    </vg-template>
                </a>
            </th>
            <th scope="col" >
                <a href="#" @click="c.updateSort(event, sortByOwner)">
                    Owner
                    <vg-template vg-if="c.sortOrder[0].index==sortByOwner">
                        <span vg-if="c.sortOrder[0].direction==sortAscending">&#x25BC;</span>
                        <span vg-if="c.sortOrder[0].direction==sortDescending">&#x25B2;</span>
                    </vg-template>
                </a>
            </th>
        </tr>
        </thead>
        <tbody>
            <tr vg-for="_, member := range c.filteredMembers()" vg-key="member.GetName()">
                <th scope="row" vg-content="member.GetName()"></th>
                <td vg-content="fmt.Sprint(member.GetLevel())"></td>
                <td vg-content="member.GetClass()"></td>
                <td vg-if="member.IsAlt()">&#x1F476;</td>
                <td vg-if="!member.IsAlt()"></td>
                <td vg-content='member.GetLastActive().Format("2006-01-02")'></td>
                <td>
                    <ui:EditLabel
                            class="col col-4"
                            EditWidth="8rem"
                            :Value='member.GetOwner()'
                            :Editable='localprofile.IsAdmin()'
                            @Submit='c.changeOwner(event, member)'/>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<script type="application/x-go">
import (
    "fmt"
    "github.com/GontikR99/chillmodeinfo/cmd/webapp/ui"
)
</script>